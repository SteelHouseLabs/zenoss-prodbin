<tal:block tal:define="
	objects python:here.getDmdRoot('Devices').getSubComponents('FileSystem');
	objects python:[o for o in objects if o.device().monitorDevice()];
	tableName string: filesystemutilreport;
	batch python:here.ZenTableManager.getBatch(tableName,objects,
	sortedHeader='capacity', sortedSence='desc');
	exportFields python:['getDeviceName', 'mount', 'totalBytesString',
						'usedBytesString', 'availBytesString', 'capacity'];">
	">
<tal:block metal:use-macro="here/reportMacros/macros/exportableReport">
<tal:block metal:fill-slot="report">

<tal:block metal:use-macro="here/templates/macros/page1">
<tal:block metal:fill-slot="breadCrumbPane">
    <span metal:use-macro="here/miscmacros/macros/reportBreadCrumbsList"/>    
</tal:block>
<tal:block metal:fill-slot="contentPane">
<table class="zentable" cellpadding="3" cellspacing="1">
    <th class="tabletitle" colspan="6">All Monitored Components</th>
    <tr>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'hostname','Device')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'mount','Mount')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'totalBytes','Total bytes')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'usedBytes','Used bytes')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'availBytes','Free bytes')"/>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                            tableName,'capacity','% Util')"/>
    </tr>
    <tal:block tal:repeat="fsys batch">
    <tr>
        <td class="tablevalues" 
          tal:content="structure python:fsys.getDeviceLink('deviceOsDetail')"/>
      <td class="tablevalues">
          <a class=tablevalues tal:content="fsys/mount" 
            tal:attributes="href fsys/getPrimaryUrlPath">sd0</a>
      </td>
      <td class="tablevalues"
        tal:content="fsys/totalBytesString">vol
      </td>
      <td class="tablevalues"
        tal:content="fsys/usedBytesString">vol
      </td>
      <td class="tablevalues"
        tal:content="fsys/availBytesString">vol
      </td>
      <td class="tablevalues"
        tal:content="fsys/capacity">vol
      </td>
    </tr>
    </tal:block>
    <tr>
        <td colspan="6" class="tableheader" align='center'>
        <form metal:use-macro="here/zenTableNavigation/macros/navtool"/>
        </td>
    </tr>
</table>
</tal:block>
</tal:block>

</tal:block>
</tal:block>
</tal:block>