
#================================================
# Global Server Definitions
#================================================

# Concord SystemEdge Memory monitors
OID		swapCapacity		1.3.6.1.4.1.546.1.1.7.8.30.0
OID		memInUseCapacity	1.3.6.1.4.1.546.1.1.7.8.32.0
OID		memCapacity			1.3.6.1.4.1.546.1.1.7.8.31.0
OID		numPageSwapIns		1.3.6.1.4.1.546.1.1.7.8.18.0
OID		numPageSwapOuts		1.3.6.1.4.1.546.1.1.7.8.19.0
OID		numSwapIns			1.3.6.1.4.1.546.1.1.7.8.20.0
OID		numSwapOuts			1.3.6.1.4.1.546.1.1.7.8.21.0
OID		numPageIns			1.3.6.1.4.1.546.1.1.7.8.22.0
OID		numPageOuts			1.3.6.1.4.1.546.1.1.7.8.23.0
OID		numPageReclaims		1.3.6.1.4.1.546.1.1.7.8.24.0
OID		numPageFaults		1.3.6.1.4.1.546.1.1.7.8.25.0

# Concord SystemEdge CPU Monitors
OID		cpuTotalIdlePercent		1.3.6.1.4.1.546.13.7.0
OID		cpuTotalUserPercent		1.3.6.1.4.1.546.13.8.0
OID		cpuTotalSysPercent		1.3.6.1.4.1.546.13.9.0
OID		cpuTotalWaitPercent		1.3.6.1.4.1.546.13.10.0

OID		cpuStatsIdlePercent		1.3.6.1.4.1.546.13.1.1.8
OID		cpuStatsUserPercent		1.3.6.1.4.1.546.13.1.1.9
OID		cpuStatsSysPercent		1.3.6.1.4.1.546.13.1.1.10
OID		cpuStatsWaitPercent		1.3.6.1.4.1.546.13.1.1.11

# Concord SystemEdge Kernel Monitors
OID		loadAverage1Min 	1.3.6.1.4.1.546.1.1.7.8.26.0
OID		loadAverage5Min 	1.3.6.1.4.1.546.1.1.7.8.27.0
OID		loadAverage15Min 	1.3.6.1.4.1.546.1.1.7.8.28.0
OID		numProcs 			1.3.6.1.4.1.546.1.1.7.8.11.0
OID		numOpenFiles 		1.3.6.1.4.1.546.1.1.7.8.12.0
OID		numSwitches			1.3.6.1.4.1.546.1.1.7.8.14.0
OID		numTraps			1.3.6.1.4.1.546.1.1.7.8.15.0
OID		numSyscalls			1.3.6.1.4.1.546.1.1.7.8.16.0
OID		numInterrupts		1.3.6.1.4.1.546.1.1.7.8.17.0

# Concord SystemEdge Disk Monitors
OID		diskStatsQueueLength	1.3.6.1.4.1.546.12.1.1.2
OID		diskStatsServiceTime	1.3.6.1.4.1.546.12.1.1.3
OID		diskStatsUtilization	1.3.6.1.4.1.546.12.1.1.4
OID		diskStatsKBytes			1.3.6.1.4.1.546.12.1.1.5
OID		diskStatsReads			1.3.6.1.4.1.546.12.1.1.7
OID		diskStatsWrites			1.3.6.1.4.1.546.12.1.1.8

# Concord SystemEdge Filesystem Monitors
OID		devCapacity				1.3.6.1.4.1.546.1.1.1.7.1.14
OID		devInodeCapacity		1.3.6.1.4.1.546.1.1.1.7.1.15

# Memory Datasources
datasource	memCapacity	
	ds-source	=	snmp://%snmp%/memCapacity
	rrd-ds-type		=	GAUGE
                    
datasource	memInUseCapacity 
	ds-source	=	snmp://%snmp%/memInUseCapacity
	rrd-ds-type		=	GAUGE
	desc = "The percentage of the system's memory in use. The value of this object can be approximated by dividing the memory in use by total system memory and converting to a percentage.  Because virutal memory allows systems to operate with a higher memCapacity value, this value alone should not be used to judge how loaded a system is.  Managers should also monitor swapCapacity."

datasource	swapCapacity	
	ds-source	=	snmp://%snmp%/swapCapacity
	rrd-ds-type		=	GAUGE
	desc = "The percentage of the system's total swap in use. The value of this object can be computed by dividing swapInUse(13) by totalSwapSpace(29) and multiplying by 100.  This object is an aggregate value over all the swap partitions and areas."

datasource	numPageIns	
	ds-source	=	snmp://%snmp%/numPageIns
	rrd-ds-type		=	COUNTER
	desc = "Page-in is an operation performed by the virtual memory system in which the contents of a page are read from secondary storage.  A high rate of change may indicate an overloaded system."

datasource	numPageOuts	
	ds-source	=	snmp://%snmp%/numPageOuts
	rrd-ds-type		=	COUNTER
	desc = "Page-out is an operation performed by the virtual memory system in which the contents of a page are written to secondary storage. A high rate of change may indicate an overloaded system."

datasource	numPageFaults	
	ds-source	=	snmp://%snmp%/numPageFaults
	rrd-ds-type		=	COUNTER
	desc = "A page fault occurs when a running process attempts to access a virtual memory page that is not currently in physical memory resulting in a hardware page fault.  A high rage of page faults may indicate an overloaded system or one with insufficient memory."


# CPU Datasources
datasource	cpuTotalIdlePercent 
	ds-source	=	snmp://%snmp%/cpuTotalIdlePercent
	rrd-ds-type		=	GAUGE
datasource	cpuTotalUserPercent 
	ds-source	=	snmp://%snmp%/cpuTotalUserPercent
	rrd-ds-type		=	GAUGE
	desc = "The percentage of time (over the sampleperiod) that the system's CPUs were executing in user mode. User mode is execution of non-system related code."
datasource	cpuTotalSysPercent	
	ds-source	=	snmp://%snmp%/cpuTotalSysPercent
	rrd-ds-type		=	GAUGE
	desc = "The percentage of time (over the sample period) that the system's CPUs were executing the kernel or operating system."

datasource	cpuTotalWaitPercent	
	ds-source	=	snmp://%snmp%/cpuTotalWaitPercent
	rrd-ds-type		=	GAUGE
	desc = "The percentage of time (over the sample period) that the system's CPUs were waiting for I/O (like hard disks)."

#Kernel Datasources
datasource	loadAverage1Min	
	ds-source = snmp://%snmp%/loadAverage1Min
	rrd-ds-type		=	GAUGE
datasource	loadAverage5Min	
	ds-source = snmp://%snmp%/loadAverage5Min
	rrd-ds-type		=	GAUGE
	desc = "The load average over the last 5 minutes.  The load average represents the average number of jobs in the run queue over the specified time range.  High load averages indicate a general performance problem on the machine.  You must look at Memory, CPU, Disk and Networking to figure out where the specific problem is located." 

datasource	loadAverage15Min	
	ds-source = snmp://%snmp%/loadAverage15Min
	rrd-ds-type		=	GAUGE
datasource	numProcs	
	ds-source = snmp://%snmp%/numProcs
	rrd-ds-type		=	GAUGE
datasource	numOpenFiles	
	ds-source = snmp://%snmp%/numOpenFiles
	rrd-ds-type		=	GAUGE
datasource	numSwitches		
	ds-source = snmp://%snmp%/numSwitches
	rrd-ds-type		=	COUNTER
	desc = "A context switch occurs each time a process gives up the CPU and another takes its place.  This counter reflects the level of system activity; a high rate of context switching is indicative of the system load and may mean that functions runing on a single machine should be split to multiple machines."

datasource	numTraps		
	ds-source = snmp://%snmp%/numTraps
	rrd-ds-type		=	COUNTER
	desc = "The total number of traps switching a process from user to kernel mode that have occurred since the kernel was last initialized.  Traps are hardware exceptions that occur and are usually caused by the currently running process.  Example traps include those for incorrect arithmetic operations, segmentation violations or page faults.  An excessive trap rate can indicate a faulty program, excessive system loading, or some other abnormality."

datasource	numSyscalls		
	ds-source = snmp://%snmp%/numSyscalls
	rrd-ds-type		=	COUNTER
datasource	numInterrupts	
	ds-source = snmp://%snmp%/numInterrupts
	rrd-ds-type		=	COUNTER
	desc = "The operating system is interrupted by devices and peripherals when they require the attention of the system.  An excessive rate of interrupts can indicate a heavily loaded machine; servers and machines shared by many users will typically have a higher rate though."


# Disk Datasources
datasource	diskStatsQueueLength	
	ds-source	=	snmp://%snmp%/diskStatsQueueLength.%inst%
	rrd-ds-type		=	GAUGE
datasource	diskStatsServiceTime	
	ds-source	=	snmp://%snmp%/diskStatsServiceTime.%inst%
	rrd-ds-type		=	GAUGE
datasource	diskStatsUtilization	
	ds-source	=	snmp://%snmp%/diskStatsUtilization.%inst%
	rrd-ds-type		=	GAUGE
datasource	diskStatsKBytes
	ds-source	=	snmp://%snmp%/diskStatsKBytes.%inst%
	rrd-ds-type		=	COUNTER
datasource	diskStatsReads	
	ds-source	=	snmp://%snmp%/diskStatsReads.%inst%
	rrd-ds-type		=	COUNTER
datasource	diskStatsWrites	
	ds-source	=	snmp://%snmp%/diskStatsWrites.%inst%
	rrd-ds-type		=	COUNTER

# Filesystem Datasources
datasource	devCapacity	
	ds-source	=	snmp://%snmp%/devCapacity.%inst%
	rrd-ds-type		=	GAUGE
datasource	devInodeCapacity 
	ds-source	=	snmp://%snmp%/devInodeCapacity.%inst%
	rrd-ds-type		=	GAUGE


# Target Definitions
targetType LoadAverage
	ds = "loadAverage5Min"

targetType NumProcesses
	ds = "numProcs"

targetType NumOpenFiles
	ds = "numOpenFiles"

targetType Kernel
	ds = "numSwitches,numInterrupts"

targetType	Memory
	ds = "memInUseCapacity, swapCapacity"

targetType Paging
	ds = "numPageIns, numPageOuts"

targetType PageFaults
	ds = "numPageFaults"

targetType TotalCPU
	ds = "cpuTotalUserPercent,cpuTotalSysPercent,cpuTotalWaitPercent"

targetType Disk
	ds = "diskStatsKBytes,diskStatsServiceTime,diskStatsReads,diskStatsWrites"
	view = "ServiceTime: diskStatsServiceTime,
			KBytes: diskStatsKBytes,
			Transactions: diskStatsReads diskStatsWrites"

targetType Filesystem
	ds = "devCapacity,devInodeCapacity"


# Graph Definitions
graph memCapacity
	legend = "Active Mem Util"
	units = "%"
	y-axis = "Mem Util" 
	y-max = 100
	y-min = 0

graph memInUseCapacity
	legend = "Total Mem Util"
	draw-as = AREA
	units = "%"
	y-max = 100
	y-min = 0

graph swapCapacity
	legend = "Total Swap Util"
	units = "%"
	y-max = 100
	y-min = 0

graph numPageOuts
	legend = "Page Outs"
	units = "p/sec"

graph numPageIns
	legend = "Page Ins"
	units = "p/sec"
	draw-as = AREA

graph numPageFaults
	legend = "Page Faults"
	units = "p/sec"
	draw-as = AREA

graph loadAverage1Min
	legend = "LoadAverage1Min"
	draw-as = AREA
	scale = 100,/
	si-units = false

graph loadAverage5Min
	legend = "LoadAverage5Min"
	draw-as = AREA
	scale = 100,/

graph loadAverage15Min
	legend = "LoadAverage15Min"
	draw-as = AREA
	scale = 100,/

graph numSwitches
	legend = "Number Switches"
	draw-as = AREA

graph numInterrupts
	legend = "Number Interrupts"

graph numProcs
	legend = "NumProcesses"
	draw-as = AREA
	si-units = false

graph numOpenFiles
	legend = "NumOpenFiles"
	draw-as = AREA
	si-units = false

graph cpuTotalIdlePercent
        legend = "Idle"
        units = "%"
        y-axis = "CPU Util"
        y-max = 100
        y-min = 0

graph cpuTotalUserPercent
        legend = "Idle"
        units = "%"
        y-axis = "CPU Util"
        y-max = 100
        y-min = 0
        legend = "User"

graph cpuTotalSysPercent
        legend = "System"

graph cpuTotalWaitPercent
        legend = "Wait"

graph cpuStatsIdlePercent
	legend = "Idle"
	units = "%"
	y-axis = "CPU Util" 
	y-max = 100
	y-min = 0

graph cpuStatsUserPercent
	legend = "User"

graph cpuStatsSysPercent
	legend = "System"

graph cpuStatsWaitPercent
	legend = "Wait"

graph diskStatsUtilization 
	legend = "Disk I/O Util"
	units = "%"
	y-axis = "Disk I/O Util" 
	y-max = 100
	y-min = 0
	draw-as = AREA

graph diskStatsQueueLength
	legend = "QueueLength"
	units = "procs"
	y-axis = "numb procs"
	draw-as = AREA
	si-units = false

graph diskStatsKBytes
	legend = "KiloBytes"
	draw-as = AREA
	units = "Kbytes"
	y-axis = "Kbytes"

graph diskStatsServiceTime
	legend = "ServiceTime"
	draw-as = AREA
	units = "millisec"
	y-axis = "millisec"

graph diskStatsReads
	legend = "Reads"
	draw-as = AREA
	units = "t/sec"
	units = "t/sec"

graph diskStatsWrites
	legend = "Writes"
	units = "t/sec"

graph devCapacity
	legend = "FSCapacity"
	units = "%"
	draw-as = AREA
	y-axis = "Capacity Util" 
	y-max = 100
	y-min = 0

graph devInodeCapacity
	legend = "InodeCapacity"

graph   ifInUcastPackets
    draw-as     =   AREA
    y-axis      =   "packets per second"
    units       =   "pkt/sec"
    legend      =   "Average num Packets In"
 
graph   ifOutUcastPackets
    y-axis      =   "packets per second"
    units       =   "pkt/sec"
    legend      =   "Average num Packets Out"
 
graph   ifInErrors
    draw-as     =   AREA
    y-axis      =   "errors per second"
    units       =   "err/sec"
    legend      =   "Average Errors In"

graph   ifOutErrors
    y-axis      =   "errors per second"
    legend      =   "Average Errors Out"
    units       =   "err/sec"

