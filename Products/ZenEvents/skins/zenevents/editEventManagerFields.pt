<tal:block metal:use-macro="here/page_macros/old-new">
<tal:block metal:fill-slot="contentPane" 
    tal:define="obj python:here">
<tal:block tal:condition="python:'MSIE' not in here.REQUEST.HTTP_USER_AGENT">
<script src="/zport/js/MochiKit.js"></script>
<script src="/zport/js/DragAndDrop.js"></script>
<script src="/zport/js/Sortable.js"></script>
<script src="zendragdrop.js"></script>
<form method="post" tal:attributes="action here/getPrimaryUrlPath">
<input type="hidden" name="zenScreenName" tal:attributes="value string:editEventManagerFields" /> 
<input type="hidden" name="redirect" value="true"/>


        <tal:block tal:define=" 
            tabletitle string:Connection Information">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="filterslot">
            </tal:block>

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
            
   
    <tr>
        <td class="tableheader" width="25%">Default Sort</td>
        <td class="tablevalues"> 
            <input type='text' name="defaultOrderby" size="42"
                tal:attributes="value obj/defaultOrderby">
        </td>
    </tr>
    <tr>
        <td class="tableheader" width="25%">Default Result Fields</td>
        <td class="tablevalues"> 
                <div style="float:left;">
                   <textarea
                   tal:content="python:'\n'.join(obj.defaultResultFields)"
                      name="defaultResultFields:lines"
                      id="ta_defaultResultFields"></textarea>
        <h5>Fields (drag to change order)</h5>

        </div>
        <div style="float:left;">
            <ul id="ul_defaultResultFields"
                class="sortable_list fieldlist">
                <li 
                class="sortable_item fieldlist"
                tal:repeat="field python:[x for x in obj.getFieldList() if x
                not in obj.defaultResultFields]"
                    tal:content="field">item</li>
            </ul>
        <h5>Available fields (drag to other list to add)</h5>
        </div>
            <script> var x = new ZenDragDropList('ta_defaultResultFields',
                                                 'ul_defaultResultFields');
            </script>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Device Result Fields</td>
        <td class="tablevalues"> 
        <div style="float:left;">
                   <textarea
                   tal:content="python:'\n'.join(obj.DeviceResultFields)"
                      name="DeviceResultFields:lines"
                      id="ta_DeviceResultFields"></textarea>
        <h5>Fields (drag to change order)</h5>

        </div>
        <div style="float:left;">
            <ul id="ul_DeviceResultFields"
                class="sortable_list fieldlist">
                <li 
                class="sortable_item fieldlist"
                tal:repeat="field python:[x for x in obj.getFieldList() if x
                not in obj.DeviceResultFields]"
                    tal:content="field">item</li>
            </ul>
        <h5>Available fields (drag to other list to add)</h5>
        </div>
            <script> var x = new ZenDragDropList('ta_DeviceResultFields',
                                                 'ul_DeviceResultFields');
            </script>
        </td>
    </tr>
    <tr>
        <td class="tableheader" colspan="2">
            <input type='submit' value="Save"
                name='zmanage_editProperties:method'>
        </td>
    </tr>

        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

</form>
</tal:block>

<tal:block tal:condition="python:'MSIE' in here.REQUEST.HTTP_USER_AGENT">
<form method="post" tal:attributes="action here/getPrimaryUrlPath">
<input type="hidden" name="zenScreenName" tal:attributes="value string:editEventManagerFields" /> 
<input type="hidden" name="redirect" value="true"/>


        <tal:block tal:define=" 
            tabletitle string:Connection Information">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="filterslot">
            </tal:block>

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
            
   
    <tr>
        <td class="tableheader" width="25%">Default Sort</td>
        <td class="tablevalues"> 
            <input type='text' name="defaultOrderby" size="42"
                tal:attributes="value obj/defaultOrderby">
        </td>
    </tr>
    <tr>
        <td class="tableheader" width="25%">Default Result Fields</td>
        <td class="tablevalues"> 
            <textarea class="tablevalues" rows="7" cols="40"
                name="defaultResultFields:lines" 
                tal:content='python: "\n".join(obj.defaultResultFields)'>
            </textarea>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Device Result Fields</td>
        <td class="tablevalues"> 
            <textarea class="tablevalues" rows="7" cols="40"
                name="DeviceResultFields:lines" 
                tal:content='python: "\n".join(obj.DeviceResultFields)'>
            </textarea>
        </td>
    </tr>
    <tr>
        <td class="tableheader" colspan="2">
            <input type='submit' value="Save"
                name='zmanage_editProperties:method'>
        </td>
    </tr>

        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

</form>
</tal:block>

</tal:block>
</tal:block>
