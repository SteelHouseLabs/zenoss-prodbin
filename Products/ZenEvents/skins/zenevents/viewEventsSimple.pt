<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="contentPane">

<table class="zentable" cellpadding="3" cellspacing="1"
    tal:define="tableName string:viewevents;
    whereclause request/ev_whereclause | python:None;
    orderby request/ev_orderby | python:None;
    resultFields request/ev_resultfields | here/resultFields;
    objects python:here.getEvents(where=whereclause, 
                            orderby=orderby, resultFields=resultFields);
    evcolspan python:len(resultFields)+1;">
    <tr>
        <td class="tabletitle" align=center colspan=4 
            tal:attributes="colspan evcolspan">
            Live Events
        </td>
    </tr>
    <tr>
        <th class=tableheader tal:repeat="headername resultFields"
            tal:content=headername>
        </th>
        <th class=tableheader> </th>
    </tr>
    <tr class="statusvalues" bgcolor="#FF0000" style="color: #000000;"
        tal:repeat="event objects"
        tal:attributes="bgcolor event/bgcolor; 
        style python: 'color:'+event.fgcolor">
        <span tal:repeat="index python: range(event.getfieldcount())">
        <td tal:content="python: event.getfield(index)">
            event data 
        </td>
        </span>
        <td>
            <a href="_"
                tal:attributes="href python:
                'javascript:popupwindow(\''+event.getEventDetailHref()
                +'\',\'ncoeventdetail'+str(event.ServerSerial)+'\',450,550)'">
                *
            </a>
        </td>
    </tr>
</table>

</tal:block>
</tal:block>
