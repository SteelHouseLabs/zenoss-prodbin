<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="contentPane">
<form method="post" tal:attributes="action here/absolute_url_path">
<input type="hidden" name="zenScreenName" tal:attributes="value template/id"/>
<table class="zentable"  cellpadding="3" cellspacing="1">
<tr tal:define="message request/message | string:State at time:">
    <th class=tabletitle colspan="2"
        tal:content="string:${message} ${here/getNowString}" />
</tr>
<tr>
  <td class="tableheader">Type</td>
  <td class="tablevalues">
    <select class="tablevalues" name="type">
        <option tal:repeat="t here/evtypes" tal:content="t"
                tal:attributes="value t; selected python:t==here.type"/>
    </select>
  </td>
</tr>
<tr>
<td class="tableheader" colspan="2">Where</td>
</tr>
<tr>
<td class="tablevalues" colspan="2">
    <textarea class="tablevalues" rows="3" cols="65" name="where:text"
        tal:content="here/where">
    </textarea>
</td>
</tr>
<tr>
  <td class="tableheader">Order by</td>
  <td class="tablevalues">
    <input class="tablevalues" type="text" name="orderby" size="60"
        tal:attributes="value here/orderby" />
  </td>
</tr>
<tr>
<td class="tableheader">Result Fields</td>
<td class="tablevalues">
    <textarea class="tablevalues" rows="7" cols="20" name="resultFields:lines"
        tal:content="python:'\n'.join(here.resultFields)">
    </textarea>
</td>
</tr>
<tr>
    <td class="tableheader" colspan="2">
        <input class="tableheader" type="submit" value=" Save "
            name="zmanage_editProperties:method" />
    </td>
</tr>
</table>
<p>
The Where field above is a standard SQL where clause. The list of fields available in the event database is: 
<span tal:content="python: ', '.join(here.ZenEventManager.getFieldList())"/>.
</p>
</form>
</tal:block>
</tal:block>
