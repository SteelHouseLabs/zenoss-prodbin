<tal:block metal:use-macro="here/page_macros/old-new">
<tal:block metal:fill-slot="title">Event Manager</tal:block>
<tal:block metal:fill-slot="contentPane">
<form tal:attributes="method string:post;
                action here/getPrimaryUrlPath">
<input type="hidden" name="zenScreenName" tal:attributes="value template/id" /> 


        <tal:block tal:define=" 
            tabletitle string:Connection Information">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="filterslot">
            </tal:block>

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
            
   
    <tr>
        <td class="tableheader" width="25%">Backend Type</td>
        <td class="tablevalues" tal:content="here/backend"/>
    </tr>
    <tr>
        <td class="tableheader">User Name</td>
        <td class="tablevalues"> 
            <input type='text' name='username' 
                tal:attributes='value here/username'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Password</td>
        <td class="tablevalues"> 
            <input type='password' name='mysql_pass' autocomplete="off"
                tal:attributes='value here/password'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Database</td>
        <td class="tablevalues"> 
            <input type='text' name='database' 
                tal:attributes='value here/database'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Hostname</td>
        <td class="tablevalues"> 
            <input type='text' name='host' 
                tal:attributes='value here/host'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Port</td>
        <td class="tablevalues"> 
            <input type='text' name='port:int' 
                tal:attributes='value here/port'>
        </td>
    </tr>

        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

<br>


        <tal:block tal:define=" 
            tabletitle string:Cache">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="filterslot">
            </tal:block>

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
            
   
    <tr>
        <td class="tableheader" width="25%">Cache Timeout</td>
        <td class="tablevalues"> 
            <input type='text' name='timeout:int' 
                tal:attributes='value here/timeout'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">Cache Clear Count</td>
        <td class="tablevalues"> 
            <input type='text' name='clearthresh:int' 
                tal:attributes='value here/clearthresh'>
        </td>
    </tr>
    <tr>
        <td class="tableheader" width="25%">History Cache Timeout</td>
        <td class="tablevalues"> 
            <input type='text' name='history_timeout:int' 
                tal:attributes='value here/dmd/ZenEventHistory/timeout'>
        </td>
    </tr>
    <tr>
        <td class="tableheader">History Cache Clear Count</td>
        <td class="tablevalues"> 
            <input type='text' name='history_clearthresh:int' 
                tal:attributes='value here/dmd/ZenEventHistory/clearthresh'>
        </td>
    </tr>

        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

<br>


        <tal:block tal:define=" 
            tabletitle string:Maintenance">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="filterslot">
            </tal:block>

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
            
   
    <tr class='tableheader'>
        <td class="tableheader">
            Event Aging Threshold (hours)
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='eventAgingHours:int' 
                   tal:attributes="value here/eventAgingHours"/>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Don't Age This Severity and Above
        </td>
        <td class="tableheader" colspan="2">
            <select class="tablevalues" name="eventAgingSeverity:int">
                <!-- Select a value higher than all known severities
                     for next option so that all severity levels can be aged.-->
                <option value="11"
                    tal:attributes="selected python:11== here.eventAgingSeverity" 
                    tal:content="python:'Age All Severities'"/>
                <option tal:repeat="sev here/getSeverities"
                    tal:content="python:sev[0]"
                    tal:attributes="value python:sev[1];
							selected python:sev[1] == here.eventAgingSeverity"
 							/>
            </select>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Delete Historical Events Older Than (days)
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='historyMaxAgeDays' 
                   tal:attributes="value here/historyMaxAgeDays"/>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Default Availability Report (days)
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='defaultAvailabilityDays' 
                   tal:attributes="value here/defaultAvailabilityDays"/>
        </td>
    </tr>
    <tr class='tableheader'>
        <td class="tableheader">
            Default Syslog Priority
        </td>
        <td class="tableheader" colspan="2">
            <input class="tablevalues"
                   type='int' name='defaultPriority' 
                   tal:attributes="value here/defaultPriority"/>
        </td>
    </tr>

        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

<br>

<table class=" zentable">
    <tr>
        <td class="tableheader" width='25%'>Save Changes</td>
        <td class="tableheader">
            <input type='submit' value="Save"
                name='manage_editEventManager:method'>
        </td>
    </tr>
</table>
        

</form>
</tal:block>
</tal:block>
