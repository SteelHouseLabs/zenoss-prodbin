<!--
###########################################################################
#
# This program is part of Zenoss Core, an open source monitoring platform.
# Copyright (C) 2009, Zenoss Inc.
#
# This program is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License version 2 or (at your
# option) any later version as published by the Free Software Foundation.
#
# For complete information please visit: http://www.zenoss.com/oss/
#
###########################################################################
-->

<tal:block metal:use-macro="context/page_macros/base-new">

<tal:block metal:fill-slot="center_panel_content">
</tal:block>

<tal:block metal:fill-slot="script_layout">
<script tal:content='string:
    Zenoss.env.device_uid = decodeURI("${context/absolute_url_path}");
'></script>

<script src="/++resource++zenui/js/zenoss/devdetail.js"></script>

<script>
function changeDetail() {
    var where = window.location.href.split('#'),
        parts = where[1].split(':'),
        panelKey = parts[1],
        contextUid = where[0].substring(where[0].indexOf('/zport/dmd'),
                where[0].indexOf('/devicedetail'));
    Ext.getCmp('detail_card_panel').items.map[panelKey].setContext(contextUid);
}
</script>
</tal:block>
</tal:block> <!-- metal:use-macro="context/page_macros/base-new" -->
