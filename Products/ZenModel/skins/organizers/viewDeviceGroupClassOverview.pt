<span tal:replace="structure here/standard_html_header"/>

<span tal:define="
    objects python:here.getDmdRoot('Groups').objectValues(spec='DeviceGroup');
    tableName string:devicegroupclasslist;
    tableTitle string: Groups;
    batch python:here.ZenTableManager.getBatch(tableName,objects);"
    metal:define-macro="overview">
<table border="0" cellpadding="3" width="100%" 
    align="center" bgcolor="#ffffff" cellspacing="1"
    metal:define-macro="devicegrouplist">
    <tr>
      <th class="tabletitle" align="left" colspan="4" tal:content="tableTitle">
        Groups
      </th>
    </tr>
    <span metal:define-macro="body">
    <tr>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                    tableName,'primarySortKey','Name')">
            Name 
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                    tableName,'countDevices','Devices')">
            Devices
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                    tableName,'pingStatus','Ping')">
            Ping
        </th>
        <th tal:replace="structure python:here.ZenTableManager.getTableHeader(
                    tableName,'snmpStatus','Snmp')">
            Snmp
        </th>
    </tr>
    <tr tal:repeat="group batch">
        <span tal:define="counts group/getAllCounts">
        <td class="tablevalues" align="left" width="50%">
            <a href="_" target="rightFrame"
            tal:attributes="href group/getPrimaryUrlPath"
            tal:content="group/id">Name</a>
        </td>
        <td class=tablevalues align=center tal:content="python:counts[0]"/>
        <td class="statusvalues" bgcolor="#00ff00" align="center"
            tal:attributes="bgcolor python: group.statusColor(counts[1])"
            tal:content="python:counts[1]">0
        </td>
        <td class="statusvalues" bgcolor="#00ff00" align="center"
            tal:attributes="bgcolor python: group.statusColor(counts[2])"
            tal:content="python:counts[2]">0
        </td>
        </span>
    </tr>
    <tr>
        <td colspan=4 class="tableheader" align='center'>
            <form metal:use-macro="here/zenTableNavigation/macros/navtool"></form>
        </td>
    </tr>
    </span>
</table>
</span>
<span tal:replace="structure here/standard_html_footer"/>
