 <tal:block metal:use-macro="here/templates/macros/page2">
  <tal:block metal:fill-slot="contentPane">
      
<tal:block condition="request/doDownload | nothing">
<tal:block tal:replace="structure string:<script type='text/javascript'>
var downloadUrl = '${here/absolute_url_path}/manage_download';
</script>" />
<script type="text/javascript">
function doDownloadRedirect(evt) {
    location.href = downloadUrl;
}
addLoadEvent(doDownloadRedirect);
</script>
</tal:block>

    <form method="post" name="zenPackObjectsForm" id="zenPackObjectsForm"
	  tal:attributes="action string:${here/absolute_url_path}"
	  tal:define="tableName string:packlistdetail;
		      objects here/packables;
		      batch python:container.dmd.ZenTableManager.getBatch(tableName,objects);">
      <input type="hidden" name="zenScreenName" 
	     tal:attributes="value template/id"/>
      <input type="hidden" name="tableName" tal:attributes="value tableName"/>
      

        <tal:block tal:define="tabletitle string:Files in ZenPack">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">
        <tal:block metal:fill-slot="zentablecontents"> 
        <!-- BEGIN TABLE CONTENTS -->
        <tal:block tal:repeat="filename here/getFilenames">
        <tr tal:define="odd repeat/filename/odd"
            tal:attributes="class python:test(odd, 'odd', 'even')">
           <td class="tablevalues" tal:content="filename"/>
        </tr>
        </tal:block>
        <!-- END TABLE CONTENTS -->
        </tal:block>
        </tal:block>
        </tal:block>

        <tal:block tal:define="tabletitle string:Objects in ZenPack; 
                               menu_id string:ZenPack;">
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">
        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
        <tal:block tal:repeat="obj batch">
        <tr tal:define="odd repeat/obj/odd"
            tal:attributes="class python:test(odd, 'odd', 'even')">
           <td class="tablevalues">
              <input type="checkbox" name="packables:list" 
                 tal:attributes="value obj/getPrimaryUrlPath"/>
              <tal:block tal:content="structure 
                      python:obj.urlLink(text=obj.getPrimaryDmdId(),
                      attrs={'class':'tablevalues'})"/>
            </td>
        </tr>
        </tal:block>
        <tr>
          <td class="tableheader" align='center'>
            <span metal:use-macro="here/zenTableNavigation/macros/navbody"/>
          </td>
        </tr>
        <!-- END TABLE CONTENTS -->
        </tal:block>
        </tal:block>
        </tal:block>
        
    </form>
  </tal:block>
</tal:block>
