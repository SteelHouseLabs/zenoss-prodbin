<table class="zentable" cellpadding="3" cellspacing="1"
    metal:define-macro=deviceStatusInfo>
    <tr>
      <th class=tabletitle align=left colspan=4>Status</th>
    </tr>
    <tr>
      <td class=tableheader align=left>Ping</td>
    <td tal:define="status here/getPingStatus"
        tal:attributes="class python:here.getStatusCssClass(status)"
        tal:content="python:here.convertStatus(status)">
        ping status
    </td>
      <td class=tableheader align=left>Events</td>
      <td class=tablevalues align=left>
        <table class="zentable" border=0 cellpadding=0 cellspacing=1
            metal:define-macro="eventrainbow"
            tal:on-error="structure string:
                <span class='errorvalues'>Events unavailable</span>">
            <tr>
                <td align=center width=16%
                tal:repeat="evt here/getEventSummary"
                tal:attributes="class python:evt[0]">
                    <span tal:replace="python:evt[1]">evtcnt</span>
                </td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td class=tableheader align=left>SNMP</td>
      <td tal:define="status here/getSnmpStatus"
        tal:attributes="class python: here.getStatusCssClass(status)"
        tal:content="python:here.convertStatus(status)">
        0</td>
        <th class="tableheader" align="left">Last Change</th>
        <td class="tablevalues" tal:content="here/getLastChangeString"/>
    </tr>
    <tr>
      <td class=tableheader align=left>Uptime</td>
      <td class=tablevalues tal:content="here/uptimeStr">1day</td>
      <td class=tableheader align=left>SNMP Collection</td>
      <td class=tablevalues tal:content="here/getSnmpLastCollectionString"></td>
    </tr>
    <tr>
      <td class=tableheader align=left>State</td>
      <td class=tablevalues
        tal:content="python:here.convertProdState(here.productionState)">
        device state
      </td>
      <th class=tableheader align=left>First Seen</th>
      <td class="tablevalues" tal:content="here/getCreatedTimeString" />
    </tr>
</table>

<table class="zentable" cellpadding="3" cellspacing="1"
    metal:define-macro="deviceOverviewBrief">
    <tr>
      <th class=tabletitle align=left colspan=4>
       Device 
      </th>
    </tr>
    <tr>
      <th class=tableheader align=left>
        Hostname
      </th>
      <td class=tablevalues>
      <span tal:replace="here/id">
        hostname
      </span>
      </td>
      <th class=tableheader align=left>
          SNMP sysName
      </th>
      <td class=tablevalues>
      <span tal:replace="here/snmpSysName">
          sysName
      </span>
      </td>
    </tr>
</table>

<table class="zentable" cellpadding="3" cellspacing="1"
    metal:define-macro="deviceOverview">
    <tr>
      <th class=tabletitle align=left colspan=4>
       Device 
      </th>
    </tr>
    <tr>
      <th class=tableheader align=left>
        Hostname
      </th>
      <td class=tablevalues>
      <span tal:replace="here/id">
        hostname
      </span>
      </td>
      <th class=tableheader align=left>
          SNMP sysName
      </th>
      <td class=tablevalues>
      <span tal:replace="here/snmpSysName">
          sysName
      </span>
      </td>
    </tr>
    <tr>
        <th class=tableheader align=left>
            Creation Time
        </th>
        <td class="tablevalues"
            tal:content="here/getCreatedTimeString">
            creation time
        </td>

        <th class="tableheader" align="left">
            Last Modification
        </th>
        <td class="tablevalues"
            tal:content="here/getModificationTimeString">
            mod time
        </td>
    </tr>
    <tr>
      <th class=tableheader align=left>
        Device Class
      </th>
      <td class=tablevalues tal:content="here/getDeviceClassPath">
        /Devices/Servers/Solaris
      </td>
      <td class=tableheader>OS Version</td>
      <td class=tablevalues tal:content="here/getOsVersion" />
    </tr>
    <tr>
      <td class="tableheader">Tag #</td>
      <td class="tablevalues" tal:content="here/tag">123456</td>
      <td class="tableheader">Serial #</td>
      <td class="tablevalues" tal:content="here/serialNumber">123456</td>
    </tr>
    <tr>
      <td class="tableheader">Manufacturer</td>
      <td class="tablevalues">
      <span tal:replace="structure python: here.getManufacturerLink()">
        manufacturer
      </span>
      </td>
      <td class="tableheader">Model</td>
      <td class="tablevalues">
      <span tal:replace="structure here/productClass/getPrimaryLink">
      model
      </span>
      </td>
    </tr>
    <tr>
      <td class=tableheader align=left>Location</td>
      <td class=tablevalues 
        tal:define="loc here/getLocationName">
        <a class=tablevalues tal:condition=loc
        tal:attributes="href python: here.location().getPrimaryUrlPath()"
        tal:content="loc" >location</a>
      </td>
      <td class=tableheader>Rack Slot</td>
      <td class=tablevalues tal:content='here/rackSlot' />
    </tr>
    <tr>
      <td class=tableheader>SNMP Location</td>
      <td class=tablevalues tal:content='here/snmpLocation' />
      <td class=tableheader>SNMP Contact</td>
      <td class=tablevalues tal:content='here/snmpContact' />
    </tr>
    <tr>
      <td class="tableheader" align="left">SNMP Descr</td>
      <td class="tablevalues" colspan="3" tal:content="here/snmpDescr" />
    </tr>
    <tr tal:condition="here/snmpAgent">
      <td class="tableheader" align="left">SNMP Agent</td>
      <td class="tablevalues" colspan="3" tal:content="here/snmpAgent" />
    </tr>
    <tr>
      <td class="tableheader" align="left">Comments</td>
      <td class="tablevalues" colspan="3" tal:content="here/comments" />
    </tr>
</table>


<table class="zentable" cellpadding="3" cellspacing="1"
    metal:define-macro="routerOverview">
    <tr>
      <th class=tabletitle align=left colspan=4>
       Device 
      </th>
    </tr>
    <tr>
      <th class=tableheader align=left>
        Hostname
      </th>
      <td class=tablevalues>
      <span tal:replace="here/id">
        hostname
      </span>
      </td>
      <th class=tableheader align=left>
          SNMP sysName
      </th>
      <td class=tablevalues>
      <span tal:replace="here/snmpSysName">
          sysName
      </span>
      </td>
    </tr>
    <tr>
      <th class=tableheader align=left>
        Device Class
      </th>
      <td class=tablevalues
        tal:content="here/getDeviceClassPath">
        /Devices/Servers/Solaris
      </td>
      <td class="tableheader">
        Serial #
      </td>
      <td class="tablevalues"
        tal:content="here/serialNumber">
        123456
      </td>
    </tr>
    <tr>
      <td class=tableheader>Manufacturer</td>
      <td class=tablevalues
        tal:content="structure python: 
        here.getManufacturerLink()">
        manufacturer
      </td>
      <td class=tableheader>Model</td>
      <td class=tablevalues
        tal:content="structure python: 
        here.productClass.getPrimaryLink()">
      model
      </td>
    </tr>
    <tr>
      <td class=tableheader>CPU Type</td>
      <td class=tablevalues tal:content="here/cpuType" />
      <td class=tableheader>Total Memory</td>
      <td class=tablevalues tal:content="here/totalMemory" />
    </tr>
    <tr>
      <td class=tableheader>
        OS Version
      </td>
      <td class=tablevalues
          tal:content="here/getOsVersion" />
      <td class=tableheader>
        SNMP Contact
      </td>
      <td class=tablevalues
        tal:content='here/snmpContact' />
    </tr>
    <tr>
      <th class=tableheader align=left>
        Location
      </th>
      <td class=tablevalues 
        tal:define="loc here/getLocationName">
        <a class=tablevalues href=_
        tal:condition=loc
        tal:attributes="href python: here.location().getPrimaryUrlPath()"
        tal:content="loc" >location</a>
      </td>
      <td class=tableheader>
        SNMP Location
      </td>
      <td class=tablevalues
        tal:content='here/snmpLocation' />
    </tr>
    <tr>
        <th class=tableheader align=left>
            Creation Time
        </th>
        <td class="tablevalues"
            tal:content="here/getCreatedTimeString">
            creation time
        </td>

        <th class="tableheader" align="left">
            Last Modification
        </th>
        <td class="tablevalues"
            tal:content="here/getModificationTimeString">
            mod time
        </td>
    </tr>
    <tr tal:condition="here/snmpAgent">
      <th class="tableheader" align="left">
       SNMP Agent 
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:replace="here/snmpAgent">
      desc
      </span>
      </td>
    </tr>
    <tr>
      <th class="tableheader" align="left">
        Description
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:replace="here/snmpDescr">
      desc
      </span>
      </td>
    </tr>
</table>


<table class="zentable" cellpadding="3" cellspacing="1"
    metal:define-macro="deviceLinks">
    <tr>
      <th class="tabletitle" align="left" colspan="4">
       Related Organizers
      </th>
    </tr>
    <tr tal:condition="python: hasattr(here, 'termserver') 
                        and here.termserver()">
        <th class=tableheader align=left>Terminal Server</th>
        <td class=tablevalues colspan=3>
            <span tal:content="structure here/termserver/getPrimaryLink"/>
            <a class=tablevalues href=_
            tal:attributes="href python:'telnet:'+here.termserver().getId()">
            (telnet)</a>
        </td>
    </tr>
    <tr>
      <th class="tableheader" align="left">
        Systems
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:repeat="item here/systems/objectValuesAll">
          <a href="_" 
          tal:attributes="href item/getPrimaryUrlPath"
          tal:content="item/getOrganizerName">ID</a>
      </span>
      </td>
    </tr>
    <tr tal:condition="python: hasattr(here, 'dhcpservers')">
      <th class="tableheader" align="left">
        DHCP Helper Servers
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:repeat="item here/dhcpservers/objectValuesAll">
          <a href="_" 
          tal:attributes="href item/getPrimaryUrlPath"
          tal:content="item/id">ID</a>
      </span>
      </td>
    </tr>
    <tr tal:condition="python: hasattr(here, 'dhcpubrclients') and 
            here.dhcpubrclients.countObjects()">
      <th class="tableheader" align="left">
        UBR Clients
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:repeat="item here/dhcpubrclients/objectValuesAll">
          <a href="_" 
          tal:attributes="href item/getPrimaryUrlPath"
          tal:content="item/id">ID></a>
      </span>
      </td>
    </tr>
    <tr>
      <th class="tableheader" align="left">
        Groups
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:repeat="item here/groups/objectValuesAll">
          <a href="_" 
          tal:attributes="href item/getPrimaryUrlPath"
          tal:content="item/getOrganizerName">ID</a>
      </span>
      </td>
    </tr>
    <tr>
      <th class="tableheader" align="left">
        Status Monitors
      </th>
      <td class="tablevalues" colspan="3">
      <span tal:repeat="item here/monitors/objectValuesAll">
          <a href="_" 
          tal:attributes="href item/getPrimaryUrlPath"
          tal:content="item/id">ID</a>
      </span>
      </td>
    </tr>
    <tr>
      <th class="tableheader" align="left">
        Cricket Server
      </th>
      <td class="tablevalues" colspan="3">
        <span tal:replace="structure python: 
            here.cricket.getPrimaryLink()">
          cricket server
        </span>
      </td>
    </tr>
</table>


<td metal:define-macro="pingStatus" tal:define="status device/getPingStatus"
    tal:attributes="class python:device.getStatusCssClass(status)"
    tal:content="python:here.convertStatus(status)" align="center">
    ping status
</td>
<td metal:define-macro="snmpStatus"  tal:define="status device/getSnmpStatus"
    tal:attributes="class python:device.getStatusCssClass(status)"
    tal:content="python:here.convertStatus(status)" align="center">
    Snmp Status
</td>
