<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="contentPane">

<form method="post"  metal:define-macro="objectperf"
    tal:attributes="action string:${here/absolute_url_path}/${template/id}">
        <tal:block tal:define="tableName string:perfdetail;
    drange python: here.ZenTableManager.setReqTableState(tableName,'drange',129600); tabletitle string:Range">
    <input type='hidden' name='tableName' tal:attributes="value tableName" />
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">


            <tal:block metal:fill-slot="filterslot">
        <select class="tableheader" name="drange:int" onchange="form.submit()">
            <option tal:repeat="r here/performanceDateRanges" 
                tal:content='python:r[0]' 
                tal:attributes="value python:r[1]; 
                                selected python:r[1]==drange"/>
        </select>
            </tal:block>

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
            
    
    <tal:block tal:define="
            objects here/devices;
            sortOn python:(('getId', 'nocase', 'asc'),);
            sortedobjs python:sequence.sort(objects, sortOn)">
        <tal:block tal:repeat="device sortedobjs">
        
        <tal:block tal:repeat="graph python:device.primaryAq().getDefaultGraphDefs(drange=drange)">
            <tr><td class=tableheader tal:content="string: ${device/getId} - ${graph/title}">title</td></tr>
            <tr><td class=tablevalues>
                <img src="_" tal:attributes="src graph/url">
                </td>
            </tr>
        </tal:block>
        </tal:block>
    </tal:block>

        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

</form>
</tal:block>
</tal:block>
