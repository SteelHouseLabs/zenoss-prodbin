<tal:block metal:use-macro="here/templates/macros/page2">
<tal:block metal:fill-slot="title">Zenoss: ZenPacks</tal:block>
  <tal:block metal:fill-slot="contentPane">

    <form method="POST" name="zenPackList"
        tal:attributes="action here/absolute_url_path;"
        enctype="multipart/form-data"
	    tal:define="tableName string:packlist;
		      objects here/packs;
		      batch python:container.dmd.ZenTableManager.getBatch(tableName,objects);">
      <input type="hidden" name="zenScreenName" tal:attributes="value template/id"/>

      <input type="hidden" name="tableName" tal:attributes="value tableName"/>
      

        <tal:block tal:define=" tabletitle string:Loaded Zen Packs;
		   		menu_id string:ZenPack_list;" >
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
        <tr>
          <th class="tableheader"/> 
          <th class="tableheader" valign="top">Pack</th>
          <th class="tableheader" valign="top">Author</th>
          <th class="tableheader" valign="top">Organization</th>
          <th class="tableheader" valign="top">Version</th>
          <th class="tableheader" valign="top">Egg</th>
        </tr>
	
	
	<tr tal:repeat='pack objects'>	
          <td class="tablevalues"> 
              <input type="checkbox" name="ids:list"  
                  tal:condition="pack/getPrimaryPath|nothing" 
                  tal:attributes="value pack/id"/> 
          </td>
          <tal:block tal:condition="pack/getPrimaryUrlPath|nothing">
		  <td class="tablevalues">
		    <a tal:attributes="href pack/getPrimaryUrlPath" 
		       tal:content="pack/id"/>
		  </td>
		  <td class="tablevalues" tal:content="pack/author"/>
		  <td class="tablevalues" tal:content="pack/organization"/>
		  <td class="tablevalues" tal:content="pack/version"/>
		  <td class="tablevalues" 
		    tal:content="python: pack.isEggPack() and 'Yes' or 'No'"/>
      </tal:block>
	  <tal:block tal:condition="not:pack/getPrimaryUrlPath|nothing">
		  <td class="tablevalues">
			<tal:dummy tal:replace="python:here.dmd.getBrokenPackName(pack)" />
		  </td>
		  <td class="tablevalues" colspan="4">
		      This pack is missing or broken.  Please reinstall.
		  </td>
	  </tal:block>
	</tr>
      
        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

    </form>

  </tal:block>
</tal:block>
