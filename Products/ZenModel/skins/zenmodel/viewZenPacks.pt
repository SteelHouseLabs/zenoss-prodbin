<tal:block metal:use-macro="here/templates/macros/page2">
  <tal:block metal:fill-slot="contentPane">

    <form method="POST" name="zenPackList" tal:attributes="action here/absolute_url_path;"
	  tal:define="tableName string:packlist;
		      objects here/packs;
		      batch python:container.dmd.ZenTableManager.getBatch(tableName,objects);">
      <input type="hidden" name="zenScreenName" tal:attributes="value template/id"/>

      <input type="hidden" name="tableName" tal:attributes="value tableName"/>
      

        <tal:block tal:define=" tabletitle string:Loaded Zen Packs;
		   		menu_id string:ZenPack_list;" >
        <tal:block metal:use-macro="here/zenuimacros/macros/zentable">

        <!--====Optional titlebar slots=============

            <tal:block metal:fill-slot="filterslot">
            </tal:block>

            <tal:block metal:fill-slot="menuslot">
            </tal:block>

            ==========================================-->

        <tal:block metal:fill-slot="zentablecontents">
        <!-- BEGIN TABLE CONTENTS -->
        <tr>
          <th class="tableheader"/>
          <th class="tableheader">Pack</th>
          <th class="tableheader">Author</th>
          <th class="tableheader">Organization</th>
          <th class="tableheader">Version</th>
          <th class="tableheader">#</th>
        </tr>
	
	
	<tr tal:repeat='pack objects'>
	  <td class="tablevalues">
	    <input type="checkbox" name="ids:list" 
				tal:condition="pack/getPrimaryPath|nothing"
	    	   tal:attributes="value pack/id"/>
	  </td>
	
	  <tal:block tal:condition="pack/getPrimaryUrlPath|nothing">
		  <td class="tablevalues">
		    <a tal:attributes="href pack/getPrimaryUrlPath" 
		       tal:content="pack/id"/>
		  </td>
		  <td class="tablevalues">
		    <a tal:attributes="href pack/url" tal:content="pack/author"/>
		  </td>
		  <td class="tablevalues">
		    <a tal:attributes="href pack/url" tal:content="pack/organization"/>
		  </td>
		  <td class="tablevalues">
		    <a tal:attributes="href pack/url" tal:content="pack/version"/>
		  </td>
		  <td class="tablevalues">
		    <a tal:attributes="href pack/getPrimaryUrlPath" 
	  	       tal:content="python:len(pack.packables())"/>
		  </td>
	  </tal:block>
	  <tal:block tal:condition="not:pack/getPrimaryUrlPath|nothing">
		  <td class="tablevalues">
			<tal:dummy tal:replace="python:here.dmd.getBrokenPackName(pack)" />
		  </td>
		  <td class="tablevalues" colspan="4">
		      This pack is missing or broken.  Please reinstall.
		  </td>
	  </tal:block>
	</tr>
      
        <!-- END TABLE CONTENTS -->

        </tal:block>
        </tal:block>
        </tal:block>
        

    </form>

  </tal:block>
</tal:block>
