<tal:block metal:use-macro="here/templates/macros/page2">
  <tal:block metal:fill-slot="contentPane">

    <form method="POST" tal:attributes="action request/URL;"
	  tal:define="tableName string:packlist;
		      objects container/dmd/packs;
		      batch python:container.dmd.ZenTableManager.getBatch(tableName,objects);">
      <input type="hidden" name="zenScreenName" tal:attributes="value template/id"/>
      <input type="hidden" name="tableName" tal:attributes="value tableName"/>
      <table class="zentable" cellpadding=3 cellspacing=1>
	<tr>
	  <th class="tabletitle" colspan="5">Loaded Zen Packs</th>
	</tr>
	<tr>
	  <th class="tabletitle">Name</th>
	  <th class="tabletitle">Author</th>
	  <th class="tabletitle">Organization</th>
	  <th class="tabletitle">Items Added</th>
	</tr>
	<tr tal:repeat='pack objects'>
	  <td class="tablevalues">
	    <a tal:attributes="href pack/getPrimaryUrlPath" 
	       tal:content="pack/id"/>
	  </td>
	  <td class="tablevalues">
	    <a tal:attributes="href pack/url" tal:content="pack/author"/>
	  </td>
	  <td class="tablevalues">
	    <a tal:attributes="href pack/url" tal:content="pack/organization"/>
	  </td>
	  <td class="tablevalues">
	    <a tal:attributes="href pack/getPrimaryUrlPath" 
  	       tal:content="python:len(pack.packables())"/>
	  </td>
	</tr>
      </table>
    </form>

  </tal:block>
</tal:block>
