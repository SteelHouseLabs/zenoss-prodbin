<tal:block metal:use-macro="here/templates/macros/page1">

<tal:block metal:fill-slot="breadCrumbPane">
    /<a tal:attributes="
            href string:${here/absolute_url_path}/${template/id}">Dashboard
   </a> &nbsp;
    <a tal:attributes="
            href string:${here/absolute_url_path}/${template/id}"
            style="font-weight: normal; font-size: 7pt; text-decoration: none">(refresh)
            
   </a>


   <div style="float: right; padding:0; margin-top: -17px; margin-right:15px; font-weight: normal; font-style: normal; font-size: 8pt;  " id="dashTime">Last Updated: 00:00:00</div>
</tal:block>

<tal:block metal:fill-slot="contentPane">
    <script type="text/javascript" src="/zport/js/MochiKit.js"></script>
    <script type="text/javascript" src="dashboard.js"></script>
    <table width=100%>
    <tr>
    <td width="50%" valign="top">
        <div style="height: 300px; overflow:auto">
        <table class="zentable" cellpadding="3" cellspacing="1">
            <thead>
            <tr>
              <th class="tabletitle" colspan="6"><a style="color: white" href="/zport/dmd/Events/Status/viewEvents">Devices</a> with Status Monitoring Failures</th>
            </tr>
            <tr>
                <th class="tableheader">Name</th>
                <th class="tableheader">Events</th>
                <th class="tableheader">Count</th>
            </tr>
            </thead>
            <tbody id="devstatus">
            </tbody>
        </table>
        </div>
    </td>
    <td valign="top">
        <div style="height: 300px; overflow:auto">
        <table class="zentable" cellpadding="3" cellspacing="1">
            <thead>
            <tr>
              <th class="tabletitle" colspan="6">
              <a style="color: white" href="/zport/dmd/Devices/viewEvents/">Devices</a> with more than 10 Events</th>
            </tr>
            <tr>
                <th class="tableheader">Name</th>
                <th class="tableheader">Events</th>
                <th class="tableheader">Count</th>
            </tr>
            </thead>
            <tbody id="devevents">
            </tbody>
        </table>
        </div>
    </td>
    </tr><tr>
    <td valign="top">
        <div style="height: 120px; overflow:auto">
	    <table class="zentable" cellpadding="3" cellspacing="1">
            <thead>
            <tr>
              <th class="tabletitle" colspan="6">
              <a style="color: white" href="/zport/dmd/Systems/viewEvents/">Systems</a> with Status Monitoring Failures</th>
            </tr>
            <tr>
                <th class="tableheader">System</th>
                <th class="tableheader">Events</th>
                <th class="tableheader">Count</th>
            </tr>
            </thead>
            <tbody id="sysstatus">
            </tbody>
            </table>
        </div>
    </td>
    <td valign="top">
        <div style="height: 120px; overflow:auto">
	    <table class="zentable" cellpadding="3" cellspacing="1">
            <thead>
            <tr>
              <th class="tabletitle" colspan="6">
                Missed <a style="color: white" href="zport/dmd/Reports/All%20Heartbeats">Heartbeats</a></th>
            </tr>
            <tr>
                <th class="tableheader">Device</th>
                <th class="tableheader">Component</th>
                <th class="tableheader">Seconds</th>
            </tr>
            </thead>
            <tbody id="devheartbeat">
            </tbody>
	    </table>
        </div>
    </td>
    </tr>
    <tr>
    <td colspan="2">
        <div style="height: 150px; overflow:auto">
        <table class="zentable" cellpadding="3" cellspacing="1"
        tal:define="
        resultFields python:('device','summary','lastTime','count');"
        >
        <thead>
        <tr>
          <th class="tabletitle" 
            tal:attributes="colspan python:len(resultFields)">
            <a style="color: white" href="/zport/dmd/Events/viewEvents">Events</a>
          </th>
        </tr>
        <tr>
        <th class="tableheader" align="center"
            tal:repeat="headername resultFields" tal:content="headername">
        </th>
        </tr>
        </thead>
        <tbody id="events">
        </tbody>
        </table>
        </div>
    </td>
    </tr>
    </table>
</tal:block>
</tal:block>
