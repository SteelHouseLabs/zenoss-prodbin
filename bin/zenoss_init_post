#! /usr/bin/env bash

#
# zenoss_init_post
#
# This script is intended to be run after the zenoss processes have
# been started for the first time.
#
# Note: it is run by root
#

#############################################################################
# This program is part of Zenoss Core, an open source monitoring platform.
# Copyright (C) 2007, Zenoss Inc.
#
# This program is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License version 2 as published by
# the Free Software Foundation.
#
# For complete information please visit: http://www.zenoss.com/oss/
#############################################################################

# environment variables
export OS_USERNAME="**OS_USERNAME**"
export OS_UID="**OS_UID**"
export ZENHOME="**ZENHOME**"
export ZODB_HOST="**ZODB_HOST**"
export ZODB_PORT="**ZODB_PORT**"
export ZODB_ADMIN_USER="**ZODB_ADMIN_USER**"
export ZODB_ADMIN_PASSWORDWD="**ZODB_ADMIN_PASSWORD**"
export ZODB_USER="**ZODB_USER**"
export ZODB_PASSWORD="**ZODB_PASSWORD**"

export ZEP_HOST="**ZEP_HOST**"
export ZEP_DB="**ZEP_DB**"
export ZEP_PORT="**ZEP_PORT**"
export ZEP_ADMIN_USER="**ZEP_ADMIN_USER**"
export ZEP_ADMIN_PASSWORDWD="**ZEP_ADMIN_PASSWORD**"
export ZEP_USER="**ZEP_USER**"
export ZEP_PASSWORD="**ZEP_PASSWORD**"

export ZOPEPASSWORD="**ZOPE_PASSWD**"
export ZOPEHOME="**ZOPEHOME**"
export PYTHON="**PYTHON**"

# load the installation functions
. ${ZENHOME}/bin/shared-functions.sh
. ${ZENHOME}/bin/install-functions.sh


# add localhost as a device to zenoss
add_localhost_device
