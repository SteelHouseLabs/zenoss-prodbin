#!/bin/sh

. $ZENHOME/bin/zenfunctions


PRGHOME=$ZENHOME/Products/SnmpCollector
PRGNAME=SnmpCollector.py

LOGFILE=$CFGDIR/snmpcollectorlog.ini

PIDFILE=$VARDIR/$PRGNAME.pid

start() {
    if [ ! -f $PIDFILE ]; then    
        echo $PRGNAME starting...
        exec $PYTHON $PRGHOME/$PRGNAME --cycle --logconfig $LOGFILE --daemon 
    else
        echo $PRGNAME is already running
    fi
}

run() {
    exec $PYTHON $PRGHOME/$PRGNAME $ARGS
}


case "$1" in
  run)
        run
        ;;
  start)
        start
        ;;
  stop)
        stop
        ;;
  restart)
        restart
        ;;
  status)
        status
        ;;
  help)
        help
        ;;
  *)
        echo $"Usage: $0 {run|start|stop|restart|status|help}"
        exit 1
esac
exit $?
